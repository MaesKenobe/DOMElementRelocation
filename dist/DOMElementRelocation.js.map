{"version":3,"sources":["DOMElementRelocation.js"],"names":["DOMElementRelocation","conf","opts","breakpoints","desk","tab","mob","elements","$win","$","window","_registerElements","_registerBreakpoints","self","Object","entries","map","k","v","on","e","_bulkRelocate","mediaQueryEvents","breakpoint","pos","console","log","_relocate","element","$element","$el","$target","position","data","undefined","$originalPosHolder","insertAfter","$orig","prependTo","appendTo"],"mappings":";;;;;;;;IAAMA,oB;AAEJ,gCAAYC,IAAZ,EAAkB;AAAA;;AAEhB;AACA,SAAKC,IAAL;AACEC,mBAAa;AACXC,cAAM,qBADK;AAEXC,aAAK,4CAFM;AAGXC,aAAK;AAHM,OADf;AAMEC,gBAAU;AANZ,OAOKN,IAPL;;AAUA,SAAKO,IAAL,GAAYC,EAAEC,MAAF,CAAZ;;AAEA,SAAKC,iBAAL;AACA,SAAKC,oBAAL;AACD;;AAGD;;;;;;;;;;mCAKoB;AAClB,YAAMC,OAAO,IAAb;;AAEA;AACA;AACA;AACAC,eAAOC,OAAP,CAAe,KAAKb,IAAL,CAAUC,WAAzB,EAAsCa,GAAtC,CAA0C,gBAAY;AAAA;AAAA,cAAVC,CAAU;AAAA,cAAPC,CAAO;;AACpDL,eAAKL,IAAL,CAAUW,EAAV,CAAa,QAAQD,CAArB,EAAwB,UAAUE,CAAV,EAAa;AACnCP,iBAAKQ,aAAL,CAAmBH,CAAnB;AACD,WAFD;AAGD,SAJD;;AAOA;AACA;AACA;AACA;AAED;;;;;AAED;;;;;;;;;sCAKuB;AACrB;AACA,aAAKV,IAAL,CAAUc,gBAAV,CAA2B;AACzBnB,uBAAa,KAAKD,IAAL,CAAUC;AADE,SAA3B;AAGD;;;;;AAED;;;;;;;;;;;6BAOcoB,U,EAAyB;AAAA,YAAbC,GAAa,uEAAP,KAAO;;AACrCC,gBAAQC,GAAR,CAAY,YAAZ;AACA,YAAMb,OAAO,IAAb;;AAEAC,eAAOC,OAAP,CAAeF,KAAKX,IAAL,CAAUK,QAAzB,EAAmCS,GAAnC,CAAuC,mBAAW;AAChDH,eAAKc,SAAL,CAAeC,QAAQC,QAAvB,EAAiCD,QAAQL,UAAR,CAAjC,EAAsDC,GAAtD;AACD,SAFD;AAID;;;;;AAED;;;;;;;;;;;;;yBASUM,G,EAAKC,O,EAASC,Q,EAAU;AAChC,YAAMnB,OAAO,IAAb;;AAEA;AACA,YAAIiB,IAAIG,IAAJ,CAAS,mBAAT,MAAkCC,SAAtC,EAAiD;AAC/C,cAAIC,qBAAqB1B,EAAE,0CAAF,CAAzB;AACAqB,cAAIG,IAAJ,CAAS,mBAAT,EAA8BE,kBAA9B;AACAA,6BAAmBC,WAAnB,CAA+BN,GAA/B;AACD;;AAED,YAAIC,YAAY,KAAhB,EAAuB;AACrB,cAAIM,QAAQP,IAAIG,IAAJ,CAAS,mBAAT,CAAZ;AACAH,cAAIM,WAAJ,CAAgBC,KAAhB;AACD;;AAED,YAAIL,aAAa,KAAjB,EAAwB;AACtBF,cAAIQ,SAAJ,CAAcP,OAAd;AACD,SAFD,MAEO;AACLD,cAAIS,QAAJ,CAAaR,OAAb;AACD;AAEF;;;;;;;;;AAIH;;;AACArB,OAAOV,oBAAP,GAA8BA,oBAA9B","file":"DOMElementRelocation.js","sourcesContent":["class DOMElementRelocation {\n\n  constructor(conf) {\n\n    // Some defaults.\n    this.opts = {\n      breakpoints: {\n        desk: '(min-width: 1230px)',\n        tab: '(min-width: 768px) and (max-width: 1229px)',\n        mob: '(min-width: 0px) and (max-width: 767px)'\n      },\n      elements: [],\n      ...conf\n    };\n\n    this.$win = $(window);\n\n    this._registerElements();\n    this._registerBreakpoints();\n  }\n\n\n  /**\n   * Register elements to mediaQueryEvents event.\n   *\n   * @private\n   */\n  _registerElements() {\n    const self = this;\n\n    // Loop al defined breakpoints. Each time browser reaches one of them,\n    // mediaQueryEvents will act and execute the new position of the\n    // elements assigned to this breakpoint.\n    Object.entries(this.opts.breakpoints).map(([k, v]) => {\n      self.$win.on('mq.' + v, function (e) {\n        self._bulkRelocate(v);\n      });\n    });\n\n\n    // $.each(relocatable, function (i, item) {\n    //   relocate(item.$element, item['desk'], 'top')\n    // });\n    //\n\n  }\n\n  /**\n   * Register breakpoints to mediaQueryEvents.\n   *\n   * @private\n   */\n  _registerBreakpoints() {\n    // Register breakpoints.\n    this.$win.mediaQueryEvents({\n      breakpoints: this.opts.breakpoints\n    });\n  }\n\n  /**\n   * Relocates a group of elements.\n   * @param breakpoint\n   * @param pos\n   *\n   * @private\n   */\n  _bulkRelocate(breakpoint, pos = \"top\") {\n    console.log('reubicando');\n    const self = this;\n\n    Object.entries(self.opts.elements).map(element => {\n      self._relocate(element.$element, element[breakpoint], pos)\n    });\n\n  }\n\n  /**\n   * Moves a DOM element to a new location.\n   *\n   * @param $el\n   * @param $target\n   * @param position\n   *\n   * @private\n   */\n  _relocate($el, $target, position) {\n    const self = this;\n\n    // First time we memorize the original position.\n    if ($el.data('original-position') === undefined) {\n      var $originalPosHolder = $('<div class=\"original-position-holder\" />');\n      $el.data('original-position', $originalPosHolder);\n      $originalPosHolder.insertAfter($el);\n    }\n\n    if ($target === false) {\n      var $orig = $el.data('original-position');\n      $el.insertAfter($orig);\n    }\n\n    if (position === 'top') {\n      $el.prependTo($target);\n    } else {\n      $el.appendTo($target);\n    }\n\n  };\n}\n\n\n// Expose the class to window.\nwindow.DOMElementRelocation = DOMElementRelocation;"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkRPTUVsZW1lbnRSZWxvY2F0aW9uLmpzIl0sIm5hbWVzIjpbIkRPTUVsZW1lbnRSZWxvY2F0aW9uIiwiY29uZiIsIm9wdHMiLCJicmVha3BvaW50cyIsImRlc2siLCJ0YWIiLCJtb2IiLCJlbGVtZW50cyIsIiR3aW4iLCIkIiwid2luZG93IiwiX3JlZ2lzdGVyRWxlbWVudHMiLCJfcmVnaXN0ZXJCcmVha3BvaW50cyIsInNlbGYiLCJPYmplY3QiLCJlbnRyaWVzIiwibWFwIiwiayIsInYiLCJvbiIsImUiLCJfYnVsa1JlbG9jYXRlIiwibWVkaWFRdWVyeUV2ZW50cyIsImJyZWFrcG9pbnQiLCJwb3MiLCJjb25zb2xlIiwibG9nIiwiX3JlbG9jYXRlIiwiZWxlbWVudCIsIiRlbGVtZW50IiwiJGVsIiwiJHRhcmdldCIsInBvc2l0aW9uIiwiZGF0YSIsInVuZGVmaW5lZCIsIiRvcmlnaW5hbFBvc0hvbGRlciIsImluc2VydEFmdGVyIiwiJG9yaWciLCJwcmVwZW5kVG8iLCJhcHBlbmRUbyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7SUFBTUEsb0I7QUFFSixnQ0FBWUMsSUFBWixFQUFrQjtBQUFBOztBQUVoQjtBQUNBLFNBQUtDLElBQUw7QUFDRUMsbUJBQWE7QUFDWEMsY0FBTSxxQkFESztBQUVYQyxhQUFLLDRDQUZNO0FBR1hDLGFBQUs7QUFITSxPQURmO0FBTUVDLGdCQUFVO0FBTlosT0FPS04sSUFQTDs7QUFVQSxTQUFLTyxJQUFMLEdBQVlDLEVBQUVDLE1BQUYsQ0FBWjs7QUFFQSxTQUFLQyxpQkFBTDtBQUNBLFNBQUtDLG9CQUFMO0FBQ0Q7O0FBR0Q7Ozs7Ozs7Ozs7bUNBS29CO0FBQ2xCLFlBQU1DLE9BQU8sSUFBYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQUMsZUFBT0MsT0FBUCxDQUFlLEtBQUtiLElBQUwsQ0FBVUMsV0FBekIsRUFBc0NhLEdBQXRDLENBQTBDLGdCQUFZO0FBQUE7QUFBQSxjQUFWQyxDQUFVO0FBQUEsY0FBUEMsQ0FBTzs7QUFDcERMLGVBQUtMLElBQUwsQ0FBVVcsRUFBVixDQUFhLFFBQVFELENBQXJCLEVBQXdCLFVBQVVFLENBQVYsRUFBYTtBQUNuQ1AsaUJBQUtRLGFBQUwsQ0FBbUJILENBQW5CO0FBQ0QsV0FGRDtBQUdELFNBSkQ7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFFRDs7Ozs7QUFFRDs7Ozs7Ozs7O3NDQUt1QjtBQUNyQjtBQUNBLGFBQUtWLElBQUwsQ0FBVWMsZ0JBQVYsQ0FBMkI7QUFDekJuQix1QkFBYSxLQUFLRCxJQUFMLENBQVVDO0FBREUsU0FBM0I7QUFHRDs7Ozs7QUFFRDs7Ozs7Ozs7Ozs7NkJBT2NvQixVLEVBQXlCO0FBQUEsWUFBYkMsR0FBYSx1RUFBUCxLQUFPOztBQUNyQ0MsZ0JBQVFDLEdBQVIsQ0FBWSxZQUFaO0FBQ0EsWUFBTWIsT0FBTyxJQUFiOztBQUVBQyxlQUFPQyxPQUFQLENBQWVGLEtBQUtYLElBQUwsQ0FBVUssUUFBekIsRUFBbUNTLEdBQW5DLENBQXVDLG1CQUFXO0FBQ2hESCxlQUFLYyxTQUFMLENBQWVDLFFBQVFDLFFBQXZCLEVBQWlDRCxRQUFRTCxVQUFSLENBQWpDLEVBQXNEQyxHQUF0RDtBQUNELFNBRkQ7QUFJRDs7Ozs7QUFFRDs7Ozs7Ozs7Ozs7Ozt5QkFTVU0sRyxFQUFLQyxPLEVBQVNDLFEsRUFBVTtBQUNoQyxZQUFNbkIsT0FBTyxJQUFiOztBQUVBO0FBQ0EsWUFBSWlCLElBQUlHLElBQUosQ0FBUyxtQkFBVCxNQUFrQ0MsU0FBdEMsRUFBaUQ7QUFDL0MsY0FBSUMscUJBQXFCMUIsRUFBRSwwQ0FBRixDQUF6QjtBQUNBcUIsY0FBSUcsSUFBSixDQUFTLG1CQUFULEVBQThCRSxrQkFBOUI7QUFDQUEsNkJBQW1CQyxXQUFuQixDQUErQk4sR0FBL0I7QUFDRDs7QUFFRCxZQUFJQyxZQUFZLEtBQWhCLEVBQXVCO0FBQ3JCLGNBQUlNLFFBQVFQLElBQUlHLElBQUosQ0FBUyxtQkFBVCxDQUFaO0FBQ0FILGNBQUlNLFdBQUosQ0FBZ0JDLEtBQWhCO0FBQ0Q7O0FBRUQsWUFBSUwsYUFBYSxLQUFqQixFQUF3QjtBQUN0QkYsY0FBSVEsU0FBSixDQUFjUCxPQUFkO0FBQ0QsU0FGRCxNQUVPO0FBQ0xELGNBQUlTLFFBQUosQ0FBYVIsT0FBYjtBQUNEO0FBRUY7Ozs7Ozs7OztBQUlIOzs7QUFDQXJCLE9BQU9WLG9CQUFQLEdBQThCQSxvQkFBOUIiLCJmaWxlIjoiRE9NRWxlbWVudFJlbG9jYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBET01FbGVtZW50UmVsb2NhdGlvbiB7XG5cbiAgY29uc3RydWN0b3IoY29uZikge1xuXG4gICAgLy8gU29tZSBkZWZhdWx0cy5cbiAgICB0aGlzLm9wdHMgPSB7XG4gICAgICBicmVha3BvaW50czoge1xuICAgICAgICBkZXNrOiAnKG1pbi13aWR0aDogMTIzMHB4KScsXG4gICAgICAgIHRhYjogJyhtaW4td2lkdGg6IDc2OHB4KSBhbmQgKG1heC13aWR0aDogMTIyOXB4KScsXG4gICAgICAgIG1vYjogJyhtaW4td2lkdGg6IDBweCkgYW5kIChtYXgtd2lkdGg6IDc2N3B4KSdcbiAgICAgIH0sXG4gICAgICBlbGVtZW50czogW10sXG4gICAgICAuLi5jb25mXG4gICAgfTtcblxuICAgIHRoaXMuJHdpbiA9ICQod2luZG93KTtcblxuICAgIHRoaXMuX3JlZ2lzdGVyRWxlbWVudHMoKTtcbiAgICB0aGlzLl9yZWdpc3RlckJyZWFrcG9pbnRzKCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBSZWdpc3RlciBlbGVtZW50cyB0byBtZWRpYVF1ZXJ5RXZlbnRzIGV2ZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3JlZ2lzdGVyRWxlbWVudHMoKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBMb29wIGFsIGRlZmluZWQgYnJlYWtwb2ludHMuIEVhY2ggdGltZSBicm93c2VyIHJlYWNoZXMgb25lIG9mIHRoZW0sXG4gICAgLy8gbWVkaWFRdWVyeUV2ZW50cyB3aWxsIGFjdCBhbmQgZXhlY3V0ZSB0aGUgbmV3IHBvc2l0aW9uIG9mIHRoZVxuICAgIC8vIGVsZW1lbnRzIGFzc2lnbmVkIHRvIHRoaXMgYnJlYWtwb2ludC5cbiAgICBPYmplY3QuZW50cmllcyh0aGlzLm9wdHMuYnJlYWtwb2ludHMpLm1hcCgoW2ssIHZdKSA9PiB7XG4gICAgICBzZWxmLiR3aW4ub24oJ21xLicgKyB2LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBzZWxmLl9idWxrUmVsb2NhdGUodik7XG4gICAgICB9KTtcbiAgICB9KTtcblxuXG4gICAgLy8gJC5lYWNoKHJlbG9jYXRhYmxlLCBmdW5jdGlvbiAoaSwgaXRlbSkge1xuICAgIC8vICAgcmVsb2NhdGUoaXRlbS4kZWxlbWVudCwgaXRlbVsnZGVzayddLCAndG9wJylcbiAgICAvLyB9KTtcbiAgICAvL1xuXG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXIgYnJlYWtwb2ludHMgdG8gbWVkaWFRdWVyeUV2ZW50cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZWdpc3RlckJyZWFrcG9pbnRzKCkge1xuICAgIC8vIFJlZ2lzdGVyIGJyZWFrcG9pbnRzLlxuICAgIHRoaXMuJHdpbi5tZWRpYVF1ZXJ5RXZlbnRzKHtcbiAgICAgIGJyZWFrcG9pbnRzOiB0aGlzLm9wdHMuYnJlYWtwb2ludHNcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWxvY2F0ZXMgYSBncm91cCBvZiBlbGVtZW50cy5cbiAgICogQHBhcmFtIGJyZWFrcG9pbnRcbiAgICogQHBhcmFtIHBvc1xuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2J1bGtSZWxvY2F0ZShicmVha3BvaW50LCBwb3MgPSBcInRvcFwiKSB7XG4gICAgY29uc29sZS5sb2coJ3JldWJpY2FuZG8nKTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcblxuICAgIE9iamVjdC5lbnRyaWVzKHNlbGYub3B0cy5lbGVtZW50cykubWFwKGVsZW1lbnQgPT4ge1xuICAgICAgc2VsZi5fcmVsb2NhdGUoZWxlbWVudC4kZWxlbWVudCwgZWxlbWVudFticmVha3BvaW50XSwgcG9zKVxuICAgIH0pO1xuXG4gIH1cblxuICAvKipcbiAgICogTW92ZXMgYSBET00gZWxlbWVudCB0byBhIG5ldyBsb2NhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtICRlbFxuICAgKiBAcGFyYW0gJHRhcmdldFxuICAgKiBAcGFyYW0gcG9zaXRpb25cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZWxvY2F0ZSgkZWwsICR0YXJnZXQsIHBvc2l0aW9uKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBGaXJzdCB0aW1lIHdlIG1lbW9yaXplIHRoZSBvcmlnaW5hbCBwb3NpdGlvbi5cbiAgICBpZiAoJGVsLmRhdGEoJ29yaWdpbmFsLXBvc2l0aW9uJykgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyICRvcmlnaW5hbFBvc0hvbGRlciA9ICQoJzxkaXYgY2xhc3M9XCJvcmlnaW5hbC1wb3NpdGlvbi1ob2xkZXJcIiAvPicpO1xuICAgICAgJGVsLmRhdGEoJ29yaWdpbmFsLXBvc2l0aW9uJywgJG9yaWdpbmFsUG9zSG9sZGVyKTtcbiAgICAgICRvcmlnaW5hbFBvc0hvbGRlci5pbnNlcnRBZnRlcigkZWwpO1xuICAgIH1cblxuICAgIGlmICgkdGFyZ2V0ID09PSBmYWxzZSkge1xuICAgICAgdmFyICRvcmlnID0gJGVsLmRhdGEoJ29yaWdpbmFsLXBvc2l0aW9uJyk7XG4gICAgICAkZWwuaW5zZXJ0QWZ0ZXIoJG9yaWcpO1xuICAgIH1cblxuICAgIGlmIChwb3NpdGlvbiA9PT0gJ3RvcCcpIHtcbiAgICAgICRlbC5wcmVwZW5kVG8oJHRhcmdldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRlbC5hcHBlbmRUbygkdGFyZ2V0KTtcbiAgICB9XG5cbiAgfTtcbn1cblxuXG4vLyBFeHBvc2UgdGhlIGNsYXNzIHRvIHdpbmRvdy5cbndpbmRvdy5ET01FbGVtZW50UmVsb2NhdGlvbiA9IERPTUVsZW1lbnRSZWxvY2F0aW9uOyJdfQ=="}